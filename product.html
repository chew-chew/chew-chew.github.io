<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
	

	<meta charset="UTF-8">
	<title>CHEWCHEW SHOP台灣代購</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	
  <meta name="description"  content="" />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<!--BOOTSTRAP-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">  
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.13.0/css/mdb.min.css" rel="stylesheet">
	

   
  
  <!-- Google Fonts -->

<link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap" rel="stylesheet">
<link rel="shortcut icon" href="img/BITE-ICO.ico"/>

<link rel="bookmark" href="img/BITE-ICOv.ico"/>


<style>
 *{
   
   margin: 0PX;
   padding: 0PX;
   box-sizing: border-box;
 }
 body{
   letter-spacing: 0.08em;
   
   
 }
 .main-bg{
 background-image:url('img/double-bubble-outline.png');

 
 }
 
 

/**CART**/
body {
  margin: 0;
  letter-spacing: 0.08em;
 
}

.phone {
  display: flex;
  width: 100%;
  
  margin: 20px auto;
  flex-direction: column;
 
  overflow: hidden;
}
@media (max-width: 414px) {
  .phone {
    margin: 0;
  }
}


main {
  
  overflow: hidden;
}
main .content {
  box-sizing: border-box;
  width: 100%;
  
 
  transition: transform 300ms;
}


.product {
  position: relative;
  box-sizing: border-box;
  
  background: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
.product .info-box {
  display: flex;
  padding: 15px 5px;
}
.product .info-box img {
  width: 100px;
  height: 100px;
  margin-right: 10px;
  -o-object-fit: contain;
     object-fit: contain;
}
.product .info-box h2 {
  margin: 10px 0;
  padding: 0;
  font-size: 18px;
}
.product .info-box p {
  margin: 0;
  color: #aba6a6;
}
.product .info-box p::before {
  content: "$";
  margin-right: 0.3em;
}
.product .action-box {
  display: flex;
  border-top: 1px solid #f3f3f3;
  padding: 10px 10px 10px 15px;
  justify-content: space-between;
  align-items: center;
}
.product .action-box .round {
  width: 30px;
  height: 30px;
  outline: 0;
  border: 0;
  color: #fff;
  font-size: 18px;
  background: #c3c3c3;
  border-radius: 50%;
  cursor: pointer;
}
.product .action-box span {
  display: inline-block;
  width: 2em;
  font-size: 18px;
  font-weight: 500;
  text-align: center;
}
.product .action-box > button {
  outline: 0;
  border: 0;
  padding: 10px 20px;
  color: #fff;
  font-size: 16px;
  text-transform: uppercase;
  background: #BA9162;
  cursor: pointer;
}

table {
    width: 100%;
  margin: 20px;
  border-spacing: 0;
  border-collapse: collapse;
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
table tr {
  border-bottom: 1px solid #f3f3f3;
}
table th,
table td {
  min-width: 1.5em;
  width: 15%;
  padding: 15px;
  text-align: right;
}
table th:first-child,
table td:first-child {
  width: 40%;
  text-align: left;
}
table th:last-child,
table td:last-child {
  padding-right: 25px;
}
table thead {
  color: #BA9162;
  font-size: 16px;
  text-align: left;
}
table thead .time {
  color: #c2c2c2;
  font-size: 14px;
  text-align: right;
}
table tbody {
  font-size: 14px;
}
table tbody .table-title {
  color: #c2c2c2;
  font-size: 12px;
}
table tbody .button-del {
  width: 50px;
  height: 50px;
  font-size: 40px;
  outline: 0;
  border: 0;
  
  color: #b6b6b6;
  font-size: 18px;
  background: transparent;
  
}
table tfoot {
  color: #959595;
  font-size: 12px;
  background: #f9f9f9;
}
table tfoot .total-price {
  margin-left: 1em;
  color: #000;
  font-size: 20px;
}

.checkout {
  display: block;
  width: calc(100% - 2 * 20px);
  margin: 20px;
  outline: 0;
  border: 0;
  padding: 15px 0;
  color: #fff;
  font-size: 18px;
  text-align: center;
  background-color: #BA9162;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  cursor: pointer;
}

.icon-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10;
  padding: 30px 20px 0;
  color: #BA9162;
  font-size: 20px;
  text-align: center;
  background: rgba(255, 255, 255, 0.8);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}
.icon-container .circle,
.icon-container .check {
  fill: none;
  stroke: #BA9162;
  stroke-width: 3;
}
.icon-container .check {
  stroke-dasharray: 80 100;
  stroke-dashoffset: 80;
}
.icon-container.showing {
  opacity: 1;
  pointer-events: auto;
}
.icon-container.showing .check {
  -webkit-animation: check 0.3s cubic-bezier(0.5, 0, 0.6, 1) forwards 0.2s;
          animation: check 0.3s cubic-bezier(0.5, 0, 0.6, 1) forwards 0.2s;
}

@-webkit-keyframes check {
  from {
    stroke-dashoffset: 80;
  }
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes check {
  from {
    stroke-dashoffset: 80;
  }
  to {
    stroke-dashoffset: 0;
  }
}
@-webkit-keyframes circle {
  from {
    stroke-dashoffset: -300;
  }
  to {
    stroke-dashoffset: 0;
  }
}
@keyframes circle {
  from {
    stroke-dashoffset: -300;
  }
  to {
    stroke-dashoffset: 0;
  }
}
.bg-my{
  background-color: #BA9162;
}
.display_none{
  display: none;
}
.myfont{
  color: #BA9162;
  font-size: 16px;
  text-align: left;
  font-weight: 800;
}
</style>

</head>
<body >

  <header class="blog-header  container-fulid"> 
    <div class="bg-my text-center text-white">
      <p class="text-center text-white">滿$350免費速遞</p>
    </div>
    <div class="row text-center" style="width: 100%;">
     
      <div class="col-md-4 offset-md-4 col-12 text-center pl-md-5 pl-1">
       <div>
        <a class="blog-header-logo text-dark text-center" href="index.html"><img width="80" height="80" class="align-top" src="img/BITE.svg" alt=""><br>CHEWCHEW SHOP<br>台灣代購</a>
      </div> 
      </div>
      
    </div>
  </header>
  <ul class="nav justify-content-center border-bottom border-top">
    <li class="nav-item">
      <a class="nav-link " href="https://www.facebook.com/Msyjl1-%E5%8F%B0%E7%81%A3%E4%BB%A3%E8%B3%BC-104508708007207/"><i class="fab fa-facebook-f"></i></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://www.instagram.com/ms.yjl.1/"><i class="fab fa-instagram"></i></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="https://www.youtube.com/channel/UCyqKiBs2fMVPEa2TKHJ3-hg"><i class="fab fa-youtube"></i></a>
    </li>
  
  </ul>
  
 <!--NAV ENDDING-->
<div class="container">
    <div class="phone" id="app">
        <!-- 導航列 -->
        
    
        <!-- 主要展示區塊 -->
        <main >
          <h5 class="mt-3 myfont">step1.看到心儀的產品，選擇好數量後點擊"add +"</h5>
         
            <!-- 瀏覽產品 -->
            <div class="content row">
                <!-- 範例 HTML -->
                <div class="product col-md-4 col-12 " v-for="product in products">
                    <div class="info-box ">
                        <img  :src="product.thumb" />
                        <div>
                            <h2>{{ product.name }}</h2>
                            <p class="display_none">{{ product.price }}</p>  
                            <a  data-toggle="collapse" :href="product.href" role="button" aria-expanded="false" aria-controls="collapseExample">
                              more info+
                              </a>
                            <div class="collapse" :id="product.id">
                              {{ product.info}}
                            </div>   
                        </div>
                      
                    </div>
                    <div class="action-box">
                        <div>
                            <button class="round" @click="minusOne(product)">-</button>
                            <span>{{ product.amountShow }}</span>
                            <button class="round" @click="addOne(product)">+</button>
                        </div>
                        <button @click="addToCart(product)">add +</button>
                    </div>
    
                    <!-- 購物成功的 icon -->
                    <div class="icon-container" :class="{ showing: product.showingIcon }">
                        <svg class="icon" viewBox="0 0 100 100" width="80" height="80">
                            <circle class="circle" cx="50" cy="50" r="48"></circle>
                            <polyline class="check" points="28,53 42,66 74,34"></polyline>
                        </svg>
                        <p>成功加入清單</p>
                    </div>
                </div>
            </div>
     <!-- 購物清單 -->
     
     <h5 class="mt-3 myfont">step2.請填妥以下表格,送出需求(將有專人whatsapp您)</h5>
     
     <FORM class="row myform contact-form mt-2" >
      
      <table class="col-12">
        
          <thead>
              <tr>
                  <th colspan="5">Order</th>
              </tr>
          </thead>
          <tbody>
            
            
            <div class="form-group col-md-6 col-12">
              <label for="pwd">姓名:</label>
              <input type="text" class="form-control" id="name" maxlength="10" name="user_name" required>
            </div>
            <div class="form-group col-md-6 col-12">
              <label for="pwd">電話:</label>
              <input type="number" class="form-control" id="phone" required min="8" name="user_phone" required >
            </div>
            <div class="form-group col-12">
              <label for="pwd">EMAIL:</label>
              <input type="email" class="form-control" id="email" name="user_email" >
            </div>
            <div class="form-group col-md-6 col-12">
            <select name="payment" class="select form-control" id="pay">
              <option style="display:none" value="">請選付款方式</option>
              <option value="面交">現金(限面交旺角)</option>
              <option value="匯款">銀行過數</option>
              <option value="轉數快">轉數快</option>
            </select>
          </div>
          <div class="form-group col-md-6 col-12">
            <select name="shipping" class="select form-control" id="ship">
              <option style="display:none" value="">請選擇運送方式</option>
              <option value="面交">面交(旺角)</option>
              <option value="順豐">順豐到付(滿350免運)</option>
              <option value="智能櫃">智能櫃(+30HKD，滿350免運)</option>
            </select>
          </div>
              <tr class="table-title">
                  <td>品項</td>
                  <td>數量</td>
                  <td class="display_none">單價</td>
                  <td class="display_none">小計</td>
                  <td></td>
              </tr>
              <tr v-for="product in productsInCart" class="shopcart">
                  <td class="p-name">{{ product.name }}</td>
                  <td class="p-num">{{ product.amount }}</td>
                  <td class="display_none">{{ product.price }}</td>
                  <td class="display_none">{{ product.sum }}</td>
                  <hr>
                  <td>
                      <button class="button-del" @click="remove(product)">×</button>
                  </td>
              </tr>
           
          </tbody>
          <tfoot>
              <tr>
                  <td></td>
                  <td class="display_none" colspan="3" name="message">Total <span class="total-price">HKD$ {{ total }}</span></td>
                  <td></td>
              </tr>
          </tfoot>
       
      </table>
      <button class="checkout" type="button" id="sendOrder" onclick="myFunction()" value="Send" type=submit>送出需求</button>
    
    </FORM>
           
        </main>
    </div>
    
    
</div>
 


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

  


<script type="text/javascript">
    new Vue({
  el: "#app",
  data: {
    isShowingCart: false,
    products: [
    {
      id: 'A20210001',
      href: '#A20210001',
      name: '佳德鳳梨酥(6入)',
      price: 95,
      info:'約45g/pcs，保存期限:40天(製造日起算)',
      thumb: 'img/product/chiate_pineapplecake.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
    {
      id: 'A20210002',
      href: '#A20210002',
      name: '佳德鳳梨酥(12入)',
      price: 165,
      info:'約45g/pcs，保存期限:40天(製造日起算)',
      thumb: 'img/product/chiate_pineapplecake.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
    {
      id: 'A20210003',
      href: '#A20210003',
      name: '寶泉晶沙太陽餅(10入)',
      price: 119,
      info:'約38g/pcs，保存期限:60天(製造日起算)',
      thumb: 'img/product/paochuan_suncake.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
      {
      id: 'A20210004',
      href: '#A20210004',
      name: '大甲師芋頭流心酥(6入)',
      price: 99,
      info:'約440g/盒，保存期限:1月(製造日起算)',
      thumb: 'img/product/tachia_taropastry.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
      {
      id: 'A20210005',
      href: '#A20210005',
      name: 'MILK17牛奶棒(原味)',
      price: 65,
      info:'約200g/罐，保存期限:10月(製造日起算)',
      thumb: 'img/product/milk17_milkbiscuitOriginal.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
      {
      id: 'A20210006',
      href: '#A20210006',
      name: 'MILK17牛奶棒(巧克力)',
      price: 65,
      info:'約200g/罐，保存期限:10月(製造日起算)',
      thumb: 'img/product/milk17_milkbiscuitChocolate.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
    {
      id: 'B20210001',
      href: '#B20210001',
      name: '快車肉乾特厚蜜汁豬肉乾',
      price: 90,
      info:'約220g/袋，保存期限:120天(製造日起算)',
      thumb: 'img/product/kuaiche_thickhoneypork.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
    {
      id: 'B20210002',
      href: '#B20210002',
      name: '快車肉乾原味豬肉紙',
      price: 85,
      info:'約180g/袋，保存期限:120天(製造日起算)',
      thumb: 'img/product/kuaiche_porkpaper.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
      {
      id: 'B20210003',
      href: '#B20210003',
      name: '軒記肉乾王蔥爆豬肉乾',
      price: 70,
      info:'約160g/袋，保存期限:240天(製造日起算)',
      thumb: 'img/product/meatking_driedpork.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false },
    {
      id: 'C20210001',
      href: '#C20210001',
      name: '賈以食日麻辣鴨血冬粉',
      price: 70,
      info:'約485g/盒，保存期限:24月(製造日起算)',
      thumb: 'img/product/chiayishiri_spicyduckblood.jpg',
      amount: 0,
      amountShow: 1,
      showingIcon: false }
      
    ] },



  methods: {
    
   

    // 點擊 - / + 後的動作
    minusOne(product) {
      product.amountShow--;
      product.amountShow = product.amountShow < 1 ? 1 : product.amountShow;
    },
    addOne(product) {
      product.amountShow++;
      product.amountShow = product.amountShow > 9 ? 9 : product.amountShow;
    },

    // 點擊 add to cart 後的動作
    addToCart(product) {
      product.amount += product.amountShow;

      product.showingIcon = true;
      setTimeout(() => {
        product.showingIcon = false;
      }, 800);
    },

    // 在購物車裡移除單一品項 ( 把數量設置成 0 )
    remove(product) {
      product.amount = 0;
    } },

  computed: {
    // 購物車裡的品項
    productsInCart() {
      return this.products
      // 只顯示購買數量 > 0 的項目
      .filter(p => p.amount)
      // 算出每個產品的小計
      .map(p => {
        p.sum = p.amount * p.price;
        return p;
      });
    },

    // 購買的金額
    total() {
      return this.productsInCart.
      reduce((sum, p) => sum + p.sum, 0);
    } } });

    </script>
    <script src="js/ajax.js"></script>
    <script type="text/javascript">
    
      $(function(){
          // 監聽 送出訂單 按鈕點擊
          // 下面這段主要在組合資料，還有擋使用者不填資料不能送出
          $('#sendOrder').css('cursor','pointer');
          $('.myform').on('click touch' , '#sendOrder', function myFunction(e){
          
          var status = true;
          // 姓名
          var name = $('#name').val();
          // 電話
          var phone = $('#phone').val(); 
          // 付款
          var pay = $('#pay').val(); 
          // 運送
          var ship = $('#ship').val(); 
          var email = $('#email').val(); 
          // 訂單  後面再加上選項數量*價格
          var order = '';
          // 價格 先預設0 後面再加上
          var price = 0;
          $('input').focus(function(){
            $(this).css('border','');
          });
           // 處理價格 跟 訂單 資料
       
          if($('.total-price').text() !== 'HKD$ 0'){
            var p_count = $('.shopcart').length;
            for(i=0;i < p_count;i++){
              order += $('.p-name').eq(i).text() + ' - ' + $('.p-num').eq(i).text() + '盒 \n';
            }
            
            price += $('.total-price').text();
          }
         
       
        
         
  
          // 擋住不填資料邏輯
          if(name == ''){
            $('#name').css('border','1px solid #ff0000');
            alert('請提供訂購人姓名');
            status = false;
          }
          if(phone == ''){
            $('#phone').css('border','1px solid #ff0000');
            alert('請提供訂購人電話');
            status = false;
          }
          
          if(pay == ''){
            $('#pay').css('border','1px solid #ff0000');
            status = false;
          }
          if(ship == ''){
            $('#ship').css('border','1px solid #ff0000');
            status = false;
          }
          if(order == ''){
            alert('請選擇訂購品項喔');
            status = false;
          }
          // 如果 �必填欄位都過了 才會到這邊
          if(status){
            // 增加日期資料
            var currentdate = new Date();
            var filltime = currentdate.getFullYear() + "/"
                  + (currentdate.getMonth() + 1) + "/"
                  + currentdate.getDate() + "  "
                  + currentdate.getHours() + ":"
                  + currentdate.getMinutes() + ":"
                  + currentdate.getSeconds();
            // 打包 要的資料
            var data = {
            'name' : name,
            'phone': phone,
            'time': filltime,
            'order': order,
            'price': price,
            'pay': pay,
            'ship':ship,
            'email':email,
          };
          // 呼叫 send ajax function
          send(data);
           
        }
      });
    });
    function send(data){
            $.ajax({
          // 這邊用get type
          type: "get",
          // api url - google appscript 產出的 url
          url: "https://script.google.com/macros/s/AKfycbwCISJcEZQN5zrK39J2OSa-H7gVJ9dyFkJ6-k4UCTeYJ7E4BAvu3aLR/exec",
          // 剛剛整理好的資料帶入
          data: data,
          // 資料格式是JSON 
          dataType: "JSON",
          // 成功送出 會回頭觸發下面這塊感謝
          success: function (response) {
            console.log(response);
            alert('感謝您的訂購！！');
          }
        });
      }
            // 呼叫 send ajax function
           
          
      
      
    </script>
   
</body>
</html>
