<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
	

	<meta charset="UTF-8">
	<title>CHEWCHEW SHOP台灣代購</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
	
  <meta name="description"  content="" />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<!--BOOTSTRAP-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">  
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.13.0/css/mdb.min.css" rel="stylesheet">
	

   
  
  <!-- Google Fonts -->

<link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap" rel="stylesheet">
<link rel="shortcut icon" href="img/BITE-ICO.ico"/>

<link rel="bookmark" href="img/BITE-ICOv.ico"/>


<style>
	.container-fulid{
	background-image:url('img/double-bubble-outline.png');
 
  
	}
  .banner{
    position: relative;
    height: 60vh;
  }
  .svg-banner{
    position:absolute;
    width:80%;
    left:5%;
    -webkit-animation:spin 4s linear infinite;
    -moz-animation:spin 4s linear infinite;
    animation:spin 4s linear infinite;
  }
  .chocobox{
    left:40%;
    top:5%;
  }
  .cookiebag{
    
    top:50%;
   
  }
  .cookiebox{
    left:40%;
    top:90%;
  }
  .lipgless{
    top:90%;
  }
  .powder{
    top:10%;
  }
  @-moz-keyframes spin { 100% { -moz-transform: rotate(20deg); } }
@-webkit-keyframes spin { 100% { -webkit-transform: rotate(20deg); } }
@keyframes spin { 
  0%{-webkit-transform: rotate(0deg); transform:rotate(0deg);}
  33%{-webkit-transform: rotate(20deg); transform:rotate(20deg);}
  66%{-webkit-transform: rotate(0deg); transform:rotate(0deg);}
  100% { -webkit-transform: rotate(-20deg); transform:rotate(-20deg); }
 }
 .title{
   margin-top: 50vh;
 }
 .taiwan{
   margin-top: 60vh;
   position: relative;
 }
 
 .inTaiwan{
   position:absolute;
   top:30%;
   left: calc(calc(100% - 1200px) / 2);
   background-color: #fff;
   color:#5C7159;
 }

@media (max-width: 575.98px) {
  .inTaiwan{left: 0;}
 }

@media (min-width: 576px) and (max-width: 767.98px) { 
  .inTaiwan{left: calc(calc(100% - 576px) / 2);}
}


@media (min-width: 768px) and (max-width: 991.98px) { 
  .inTaiwan{left: calc(calc(100% - 768px) / 2);}
 }
 @media (min-width: 992px) and (max-width: 1199.98px) { 
  .inTaiwan{left: calc(calc(100% - 992px) / 2);}
 }



 /***************************************************
 * Generated by SVG Artista on 1/23/2021, 3:37:40 PM
 * MIT license (https://opensource.org/licenses/MIT)
 * W. https://svgartista.net
 **************************************************/

@-webkit-keyframes animate-svg-stroke-1 {
  0% {
    stroke-dashoffset: 1680.35302734375px;
    stroke-dasharray: 1680.35302734375px;
  }

  100% {
    stroke-dashoffset: 0;
  }
}

@keyframes animate-svg-stroke-1 {
  0% {
    stroke-dashoffset: 1680.35302734375px;
    stroke-dasharray: 1680.35302734375px;
  }

  100% {
    stroke-dashoffset: 0;
  }
}

.svg-elem-1 {
  -webkit-animation: animate-svg-stroke-1 5s cubic-bezier(0.895, 0.03, 0.685, 0.22) 0s both;
          animation: animate-svg-stroke-1 5s cubic-bezier(0.895, 0.03, 0.685, 0.22) 0s both;
}
/**CART**/
body {
  margin: 0;
  letter-spacing: 0.08em;
 
}

.phone {
  display: flex;
  width: 100%;
  
  margin: 20px auto;
  flex-direction: column;
 
  overflow: hidden;
}
@media (max-width: 414px) {
  .phone {
    margin: 0;
  }
}


main {
  
  overflow: hidden;
}
main .content {
  box-sizing: border-box;
  width: 100%;
  
 
  transition: transform 300ms;
}


.product {
  position: relative;
  box-sizing: border-box;
  
  background: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
.product .info-box {
  display: flex;
  padding: 15px 5px;
}
.product .info-box img {
  width: 100px;
  height: 100px;
  margin-right: 10px;
  -o-object-fit: contain;
     object-fit: contain;
}
.product .info-box h2 {
  margin: 10px 0;
  padding: 0;
  font-size: 18px;
}
.product .info-box p {
  margin: 0;
  color: #aba6a6;
}
.product .info-box p::before {
  content: "$";
  margin-right: 0.3em;
}
.product .action-box {
  display: flex;
  border-top: 1px solid #f3f3f3;
  padding: 10px 10px 10px 15px;
  justify-content: space-between;
  align-items: center;
}
.product .action-box .round {
  width: 30px;
  height: 30px;
  outline: 0;
  border: 0;
  color: #fff;
  font-size: 18px;
  background: #c3c3c3;
  border-radius: 50%;
  cursor: pointer;
}
.product .action-box span {
  display: inline-block;
  width: 2em;
  font-size: 18px;
  font-weight: 500;
  text-align: center;
}
.product .action-box > button {
  outline: 0;
  border: 0;
  padding: 10px 20px;
  color: #fff;
  font-size: 16px;
  text-transform: uppercase;
  background: #BA9162;
  cursor: pointer;
}

table {
    width: 100%;
  margin: 20px;
  border-spacing: 0;
  border-collapse: collapse;
  background-color: #fff;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
table tr {
  border-bottom: 1px solid #f3f3f3;
}
table th,
table td {
  min-width: 1.5em;
  width: 15%;
  padding: 15px;
  text-align: right;
}
table th:first-child,
table td:first-child {
  width: 40%;
  text-align: left;
}
table th:last-child,
table td:last-child {
  padding-right: 25px;
}
table thead {
  color: #BA9162;
  font-size: 16px;
  text-align: left;
}
table thead .time {
  color: #c2c2c2;
  font-size: 14px;
  text-align: right;
}
table tbody {
  font-size: 14px;
}
table tbody .table-title {
  color: #c2c2c2;
  font-size: 12px;
}
table tbody .button-del {
  width: 50px;
  height: 50px;
  font-size: 40px;
  outline: 0;
  border: 0;
  
  color: #b6b6b6;
  font-size: 18px;
  background: transparent;
  
}
table tfoot {
  color: #959595;
  font-size: 12px;
  background: #f9f9f9;
}
table tfoot .total-price {
  margin-left: 1em;
  color: #000;
  font-size: 20px;
}

.checkout {
  display: block;
  width: calc(100% - 2 * 20px);
  margin: 20px;
  outline: 0;
  border: 0;
  padding: 15px 0;
  color: #fff;
  font-size: 18px;
  text-align: center;
  background-color: #BA9162;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  cursor: pointer;
}

.icon-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10;
  padding: 30px 20px 0;
  color: #BA9162;
  font-size: 20px;
  text-align: center;
  background: rgba(255, 255, 255, 0.8);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s;
}
.icon-container .circle,
.icon-container .check {
  fill: none;
  stroke: #BA9162;
  stroke-width: 3;
}
.icon-container .check {
  stroke-dasharray: 80 100;
  stroke-dashoffset: 80;
}
.icon-container.showing {
  opacity: 1;
  pointer-events: auto;
}
.icon-container.showing .check {
  -webkit-animation: check 0.3s cubic-bezier(0.5, 0, 0.6, 1) forwards 0.2s;
          animation: check 0.3s cubic-bezier(0.5, 0, 0.6, 1) forwards 0.2s;
}

@-webkit-keyframes check {
  from {
    stroke-dashoffset: 80;
  }
  to {
    stroke-dashoffset: 0;
  }
}

@keyframes check {
  from {
    stroke-dashoffset: 80;
  }
  to {
    stroke-dashoffset: 0;
  }
}
@-webkit-keyframes circle {
  from {
    stroke-dashoffset: -300;
  }
  to {
    stroke-dashoffset: 0;
  }
}
@keyframes circle {
  from {
    stroke-dashoffset: -300;
  }
  to {
    stroke-dashoffset: 0;
  }
}
</style>

</head>
<body >

 <header class="blog-header py-3 px-3">
    <div class="row flex-nowrap justify-content-between align-items-end">
      <div class="col-4 pt-1">
        
      </div>
      <div class="col-4 text-center">
       <div>
        <a class="blog-header-logo text-dark text-center" href="index.html"><img width="80" height="80" class="align-top" src="img/BITE.svg" alt=""><br>CHEWCHEW SHOP</a></div> 
      </div>
      <div class="col-4 d-flex justify-content-end align-items-end">
        <a class="link-secondary " href="#" aria-label="Search">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="mx-3" role="img" viewBox="0 0 24 24"><title>Search</title><circle cx="10.5" cy="10.5" r="7.5"/><path d="M21 21l-5.2-5.2"/></svg>
          </a>
       
      </div>
    </div>
  </header>
    
      
   <nav class="navbar navbar-expand-lg navbar-light">
  
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item ">
        <a class="nav-link" href="product.html">Product </a>
      </li>
     
      <li class="nav-item ">
        <a class="nav-link" href="story.html">Our story <span class="sr-only">(current)</span></a>
      </li>
	    <li class="nav-item">
        <a class="nav-link" href="blog.html">Blog</a>
      </li>
    </ul>
    <div class="ml-auto my-lg-0">
       
        <a class="mx-2" href="https://www.facebook.com/Msyjl1-%E5%8F%B0%E7%81%A3%E4%BB%A3%E8%B3%BC-104508708007207/"><i class="fab fa-facebook-f"></i>
</a>
        <a class="mx-2" href="https://www.instagram.com/ms.yjl.1/"><i class="fab fa-instagram"></i>
</a>
        <a class="mx-2" href=""><i class="fab fa-youtube"></i>
</a>
      
    </div>
  </div>
</nav>
  
 <!--NAV ENDDING-->
<div class="container">
   <div class="col-lg-12 text-center">
        <h1 class="mt-5">查詢訂單</h1>
        <div class="form-group col-xs-12">
          <label for="pwd">姓名:</label>
          <input type="text" class="form-control" id="name">
        </div>
        <div class="form-group col-xs-12">
          <label for="pwd">電話:</label>
          <input type="number" class="form-control" id="phone">
        </div>
        <div class="form-group col-xs-12">
          <button type="button" id="send" class="btn btn-primary col-xs-12">送出查詢</button>
        </div>
        <div class="form-group col-xs-12">
          <table class="table table-striped" style="display: none;">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Phone</th>
                <th scope="col">Time</th>
                <th scope="col">Item</th>
                <th scope="col">Price</th>
                <th scope="col">Status</th>
                <th scope="col">Update</th>
              </tr>
            </thead>
            <tbody id="dataView">
            </tbody>
          </table>
        </div>
        <div class="col-xs-12 text-center">純屬線上訂購 demo</div>
      </div>
    
    
</div>
 


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>

    <script src="js/ajax.js"></script>
    <script type="text/javascript">
    
 
    $(function(){
        $('#send').click(function(e){
            var status = true;
            var name = $('#name').val();
            var phone = $('#phone').val();
            $('input').focus(function(){
              $(this).css('border','');
            });
            if(name == ''){
              $('#name').css('border','1px solid #ff0000');
              status = false;
            }
            if(phone == ''){
              $('#phone').css('border','1px solid #ff0000');
              status = false;
            }
            if(status){
              var data = {
                'name' : name,
                'phone':phone,
                'action': 'query'
              };
              sendQuery(data);
            }
      });
    });
    function handleData(response){
        var content = '';
        response.forEach(element => {
          var [name, phone, time, item, price,, status] = element.data;
          var index = element.index;
          var statusWording = convertStatus(status);
          content +=
              `<tr>
                <td>${name}</td>
                <td>${phone}</td>
                <td>${new Date(time)}</td>
                <td>${item}</td>
                <td>${price}</td>
                <td class="status">${statusWording}</td>
                <td>
                  ${status !== '' ? '-' :
                    `<button type="button" onclick="updateStatus('${name}', '${phone}', ${index}, this)" class="btn btn-primary">取消訂單</button>`
                  };
                </td>
              </tr>`
        });
        if (content) {
          document.getElementsByClassName('table-striped')[0].style.display = 'table';
        } else {
          alert('查無資料');
        }
        var dataView = document.getElementById('dataView');
        dataView.innerHTML = content;
    }
    function convertStatus(status){
        var text = '';
        switch (status) {
          case '':
            text = '尚未處理';
            break;
          case 0:
            text = '訂單已取消';
            break;
          case 1:
            text = '訂單處理中';
            break;
          case 2:
            text = '完成製作';
            break;
          case 3:
            text = '完成交易';
            break;
          default:
            break;
        }
        return text;
    }
    function sendQuery(data){
      $.ajax({
        type: "post",
        url: "https://script.google.com/macros/s/AKfycby7ajf3VxuoZsn5SxgWyyJ9_xTLJlTDQpwpUYE61kSp87leeNjCbIAf_g/exec",
        data: data,
        dataType: "JSON",
        success: function (response) {
          handleData(response);
          $('#name').val('');
          $('#phone').val('');
        }
      });
    }
    function updateStatus(name, phone, index, that){
      var data = {
        name: name,
        phone: phone,
        action: 'delete',
        index: index,
        status: 0
      };
      $.ajax({
        type: "post",
        url: "https://script.google.com/macros/s/AKfycby7ajf3VxuoZsn5SxgWyyJ9_xTLJlTDQpwpUYE61kSp87leeNjCbIAf_g/exec",
        data: data,
        dataType: "JSON",
        success: function (response) {
          if(response === 'success'){
            $(that).parent().siblings('.status').text(convertStatus(0));
            $(that).remove();
          } else {
            alert('更新失敗！');
          }
        }
      });
    }
  </script>
          
      
      
   
</body>
</html>
